Call (CompileScript "TagForSearch/Startup.gek")

; fix ini settings
short iHotkey = ToNumber (GetIniString "Settings:iHotkey" "StarlightSkull/TagForSearch.ini")
short iController = ToNumber (GetIniString "Settings:iController" "StarlightSkull/TagForSearch.ini")
float fControllerDelay = ToNumber (GetIniString "Settings:fControllerDelay" "StarlightSkull/TagForSearch.ini")
IF iHotkey == 0 ; default 'T'
	iHotkey = 20
	SetIniString "Settings:iHotkey" ($iHotkey) "StarlightSkull/TagForSearch.ini"
ENDIF
IF iController == 0 ; default 'Y' + 0.5 seconds
	iController = 32768
	fControllerDelay = 0.5
	SetIniString "Settings:iController" ($iController) "StarlightSkull/TagForSearch.ini"
	SetIniString "Settings:fControllerDelay" ($fControllerDelay) "StarlightSkull/TagForSearch.ini"
ENDIF

ref MainScript = CompileScript "TagForSearch/Main.gek"
SetEventHandler ("OnKeyDown:"+$iHotkey) MainScript
SetEventHandler ("OnButtonDown:"+$iController) ({short iKey} => CallAfterSeconds fControllerDelay MainScript 2 iKey)